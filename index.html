<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Crystal's Game</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script type="text/javascript" href="assets/javascript/game.js"></script>
</head>

<body>


    <div class="container">
        <h1 id="title">Crystal Collector!</h1>
        <main id="mainContent">
            <p>You will be given a random number at the start of the game.</p>
            <p>There are four crystals below. By clicking on a crystal you will add a specfic amount of points to your total
                score.
            </p>
            <p>You win the game by matching your total score to random number, you lose the game if your total score goes over
                the random number.
            </p>
            <p> The value of each crystal is hidden from you until you click on it.</p>
            <p>Each time the game starts, the game will change the values of each crystal</p>
        </main>
    </div>

    <div id="tallies" class="container">


        <div id="targetNumber"></div>


        <div id="numberWins">Wins:</div>


        <div id="numberLosses">Losses:</div>


    </div>


    <div class="container">
        <div class="row">
            <div class="col-3">

                <img class="crystals" id="red" type="button" value="" class="btn btn-light" src="assets/images/red-crystal.jpg" alt="crystal1">
            </div>
            <div class="col-3">
                <img class="crystals" id="blue" type="button" value="" class="btn btn-light" src="assets/images/blue-crystal.jpg" alt="crystal2">
            </div>
            <div class="col-3">
                <img class="crystals" id="green" type="button" value="" class="btn btn-light" src="assets/images/green-crystal.jpg" alt="crystal3">
            </div>
            <div class="col-3">
                <img class="crystals" id="yellow" type="button" value="" class="btn btn-light" src="assets/images/yellow-crystal.jpg" alt="crystal4">
            </div>
        </div>
        <div id="scoreBox">
            <h4> Your total score is:
                <span id="totalScore">0</span>
            </h4>
            </h1>
        </div>
    </div>



    <script>
        $(document).ready()

        var minNumber = 19;
        var maxNumber = 60;
        var wins = 0;
        var losses = 0;
        var counter = 0;
        var crystals = $("#crystals");
        var targetNumber = randomNumberFromRange(minNumber,
            maxNumber);

        var num1 = Math.floor(Math.random() * 10 + 1)
        console.log(num1)
        var num2 = Math.floor(Math.random() * 10 + 1)
        console.log(num2)
        var num3 = Math.floor(Math.random() * 10 + 1)
        console.log(num3)
        var num4 = Math.floor(Math.random() * 10 + 1)
        console.log(num4)

        //to create the random number
        function randomNumberFromRange(minNumber, maxNumber) {
            return Math.floor(Math.random() * (maxNumber - minNumber + 1) + minNumber);
        }
        //to add to the div with id of targetNumber 
        $("#targetNumber").text("Target number: " + targetNumber);

        //adding changing value attribute to each crystal 
        $("#red").attr("value", num1)
        $("#blue").attr("value", num2)
        $("#green").attr("value", num3)
        $("#yellow").attr("value", num4)

        $(red).click(function () {
            counter = counter + num1;
            $("#totalScore").text(counter);
            console.log(counter);

            if (counter == targetNumber) {
                winner();
            } else if (counter > targetNumber) {
                loser();
            }

        });

        $(green).click(function () {
            counter = counter + num3;
            $("#totalScore").text(counter);
            console.log(counter);
            if (counter == targetNumber) {
                winner();
            } else if (counter > targetNumber) {
                loser();
            }

        });

        $(blue).click(function () {
            counter = counter + num2;
            $("#totalScore").text(counter);
            console.log(counter);
            if (counter == targetNumber) {
                winner();
            } else if (counter > targetNumber) {
                loser();
            }

        });

        $(yellow).click(function () {
            counter = counter + num4;
            $("#totalScore").text(counter);
            console.log(counter);
            if (counter == targetNumber) {
                winner();
            } else if (counter > targetNumber) {
                loser();
            }

        });

        function restartGame() {

            targetNumber = randomNumberFromRange(minNumber,
                maxNumber);
            $("#targetNumber").text("Target number: " + targetNumber);
            num1 = Math.floor(Math.random() * 10) + 1;
            num2 = Math.floor(Math.random() * 10) + 1;
            num3 = Math.floor(Math.random() * 10) + 1;
            num4 = Math.floor(Math.random() * 10) + 1;
            counter = 0;
            $("#totalScore").text(counter);

        }

        function winner() {
            wins++;
            alert("You Won!!");
            $("#numberWins").text("Wins: " + wins);
            restartGame();
        }


        function loser() {
            losses++;
            alert("You Lose!!");
            $("#numberLosses").text("Losses: " + losses);
            restartGame();
        }
    </script>
</body>

</html>